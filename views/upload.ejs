<% include ./partials/header.ejs %>
<div class="w-full min-h-screen bg-[#0F0F0F] text-white py-5 font-orbitron">
  <div class="flex justify-between items-center px-4">
    <a class="text-sm text-[#7F5AF0]" href="/profile"><i class="ri-arrow-left-s-line"></i> profile</a>
    <h2 class="leading-none text-sm">Upload Post</h2>
    <a class="text-sm" href="/feed"><i class="ri-home-line"></i> home</a>
  </div>
  <div class="flex flex-col items-center gap-2 mt-20">
    <div class="image w-[25vw] h-[25vw] rounded-full border-2 border-[#292929] flex items-center justify-center text-[#7F5AF0] bg-[#1A1A1A]">
      <i class="text-5xl font-light ri-image-line"></i>
    </div>
    <button id="selectpic" class="text-[#7F5AF0] capitalize">select picture</button>
  </div>
  <div class="mt-10 flex gap-10 justify-center items-center text-sm">
    <h4 class="post opacity-100 border-b p-2 border-[#7F5AF0] text-[#7F5AF0] cursor-pointer">Post</h4>
    <h4 class="story opacity-40 border-b border-[#1A1A1A] p-2 text-[#cccccc] cursor-pointer">Story</h4>
  </div>
  <form id="uploadform" action="/post" class="w-full px-6 py-3 mt-10" enctype="multipart/form-data" method="post">
    <input hidden class="postInput" name="category" type="radio" value="post" checked>
    <input hidden class="storyInput" name="category" type="radio" value="story">
    <input id="imageinp" hidden type="file" name="image">
    <textarea class="px-3 py-2 w-full bg-[#1A1A1A] border border-[#292929] h-24 resize-none rounded-md text-sm text-white outline-none"
      name="caption" placeholder="Write a caption..."></textarea>
    <input class="w-full px-3 py-3 bg-[#7F5AF0] mt-4 rounded-md text-sm hover:bg-[#6d48e7] transition duration-300" type="submit" value="Post">
  </form>
</div>

<script>
  document.querySelector("#selectpic").addEventListener("click", function () {
    document.querySelector("#uploadform #imageinp").click();
  });

  document.querySelector('.post').addEventListener("click", function () {
    this.style.opacity = 1
    this.style.borderColor = "#7F5AF0"
    this.style.color = "#7F5AF0"
    document.querySelector('.story').style.opacity = .4
    document.querySelector('.story').style.borderColor = "#1A1A1A"
    document.querySelector('.story').style.color = "#CCCCCC"
    document.querySelector('.postInput').setAttribute("checked", true)
    document.querySelector('.storyInput').removeAttribute("checked")
  })

  document.querySelector('.story').addEventListener("click", function () {
    this.style.opacity = 1
    this.style.borderColor = "#7F5AF0"
    this.style.color = "#7F5AF0"
    document.querySelector('.post').style.opacity = .4
    document.querySelector('.post').style.borderColor = "#1A1A1A"
    document.querySelector('.post').style.color = "#CCCCCC"
    document.querySelector('.storyInput').setAttribute("checked", true)
    document.querySelector('.postInput').removeAttribute("checked")
  })
</script>
<% include ./partials/footer.ejs %>

<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">
<style>
  .font-dm {
    font-family: 'DM Sans', sans-serif;
  }
</style>

